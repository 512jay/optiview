# OptiView

**OptiView** is a Streamlit-based dashboard for visualizing and analyzing backtest predictions and outcomes generated by the OptiBatch optimization engine.

It reads from a shared SQLite database (`optibatch.db`) maintained by OptiBatch and allows users to:

- View model predictions and confidence scores
- Compare predictions against actual outcomes
- Track strategy configurations and performance

---

## üõ† Requirements

- Python 3.13
- [Poetry](https://python-poetry.org/) for dependency management
- OptiBatch must have already ingested data and created `optibatch.db`

---

## üöÄ Getting Started

### 1. Clone the repo
```bash
git clone https://github.com/512jay/optiview.git
cd optiview
```

### 2. Set up Python and Poetry
Ensure you have Python 3.11+ installed.
Then:
```bash
poetry install
```

### 3. Set your environment variable
OptiView uses the `OPTIVIEW_DB_PATH` variable to locate the SQLite database:
```bash
$env:OPTIVIEW_DB_PATH="C:\Path\To\optibatch.db"  # PowerShell
```

Or put this in a `.env` file:
```env
OPTIVIEW_DB_PATH=C:\Path\To\optibatch.db
```

---

## üñ• Running the App
Launch the Streamlit dashboard:
```bash
poetry run streamlit run src/optiview/ui/OptiView.py
```
Then visit [http://localhost:8501](http://localhost:8501) in your browser.

---

## üì¶ Optional: Generate Predictions
From the root project directory:
```bash
poetry run python src/optiview/engine/walk_forward/bulk_predict.py --overwrite
```

Then annotate:
```bash
poetry run python src/optiview/engine/walk_forward/annotate_from_database.py
```

---

## üìã Development Notes

- Predictions are stored in the `predictions` table (coming soon)
- Annotations are stored in the `annotations` table (coming soon)
- All data relationships are driven by `job_id` (which links to OptiBatch‚Äôs `jobs` table)

OptiView is designed to be modular, and future versions may include:
- INI file reconstruction
- Config quality analysis
- Symbol/EA-level prediction tracking

---

## ü§ù Contributing
This project is still evolving. Contributions and feedback welcome!
